//Ice Wall

#scope server

{
	precache blueflare1.spr
	setvard ANIM_DEATH ''
	setvard CAN_ATTACK 0
	setvard CAN_HUNT 0
	const CANT_TURN 1

	setcallback touch enable
}

//#include monsters/base_npc

{ game_spawn

	hp 99999999
	name a|Mega Ice Wall
	
	roam 0
	takedmg all 0.1
	skilllevel 0
	hearingsensitivity 0
	
	setmodel misc/icewall.mdl
	width 192
	height 192
	setprop ent_me scale 3.0
	
	blood none
	race human

	setturnrate 0.01

	callevent 0 icewall_up //Plays the up animation
}

{ icewall_up
   playanim hold up
}

{ game_death
	callevent ice_death_fx
}

{ ice_death
	deleteme
	callevent ice_death_fx
}

{ ice_death_fx

	// originally waterball1.spr - merged with blueflare1.spr for item limit
	setcallback touch disable
	effect tempent trail blueflare1.spr $relpos(0,0,0) $relpos(0,0,32) 2 0.1 3 30 0
	effect tempent trail blueflare1.spr $relpos(0,0,32) $relpos(0,0,64) 2 0.1 3 30 0
	effect tempent trail blueflare1.spr $relpos(0,0,64) $relpos(0,0,96) 5 0.1 3 30 0
}

{ game_menu_getoptions

	local reg.mitem.title "Die"
	local reg.mitem.type callback
	local reg.mitem.callback ice_death
	menuitem.register
}